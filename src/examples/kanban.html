<!DOCTYPE html>
<html>
<script src='../../node_modules/sortablejs/Sortable.js'></script>
<script>
  function createToDo() {
    task = document.createElement('div')
    task.setAttribute("class", "task")
    task.innerHTML = 'new task'
    document.getElementById('toDo').appendChild(task)
  }
</script>
<style>
  .board {
    display: flex;
    justify-content: space-between;
    flex-basis: 20%
  }

  .todo-task-list {
    width: 20%
  }

  .ip-task-list {
    width: 20%
  }

  .done-task-list {
    width: 20%
  }

  .done-task {
    color: green;
    border: 1px solid;
    margin: 10px
  }

  .todo-task {
    color: red;
    border: 1px solid;
    margin: 10px
  }

  .ip-task {
    color: blue;
    border: 1px solid;
    margin: 10px
  }

  .task {
  }

  .list-name {
    margin: 10px
  }

</style>
<body>
  <div id="board" class="board">
    <div id="toDo" class="todo-task-list">
      <h3 class="list-name">Todo <button onclick="createTodo()">+</button></h3>
      <div id="toDoTasks">
        <div class="todo-task" id="todo_1">Task 1</div>
        <div class="todo-task" id="todo_2">Task 2</div>
      </div>
    </div>
    <div id="inProgress" class="ip-task-list">
      <h3 class="list-name">In Progress</h3>
      <div id="ipTasks">
        <div class="ip-task" id="ip_1">Task 1</div>
        <div class="ip-task" id="id_2">Task 2</div>
      </div>
    </div>
    <div id="done" class="done-task-list">
      <h3 class="list-name">Done</h3>
      <div id='doneTasks'>
        <div class="done-task" id="done_1">Task 1</div>
        <div class="done-task" id="done_2">Task 2</div>
      </div>
    </div>
  </div>
  </div>
</body>
<script>
  function createTodo() {
    const newTask = document.createElement('div')
    newTask.setAttribute('class', 'todo-task')
    newTask.setAttribute('id', '1234')
    newTask.innerHTML = 'new task'
    document.getElementById('toDoTasks').appendChild(newTask)
  }

  function toString(evt) {
    return `
    item: ${evt.item.id} 
    from: ${evt.from.id} old index: ${evt.oldIndex} 
    to: ${evt.to.id} new index ${evt.newIndex}
    `
  }

  function getParams(listName) {
    params = {
      group: 'shared', 
      animation: 150,
      onEnd: evt => {
        console.log(`${listName} end ${toString(evt)}`)
      },
      /*
      onStart: evt => {
        console.log(`${listName} start ${toString(evt)}`)
      },*/
      /*
      onAdd: evt => {
        console.log(`${listName} add ${toString(evt)}`)
      },
      onRemove: evt => {
        console.log(`${listName} remove ${toString(evt)}`)
      },*/
    }

    return params 
  }

  var toDo = document.getElementById('toDoTasks')
  var inProgress = document.getElementById('ipTasks')
  var done = document.getElementById('doneTasks')

  param = {
    group: 'share'
  }

  toDo = new Sortable(toDo, getParams('todo'))
  inProgress = new Sortable(inProgress, getParams('ip'));
  done = new Sortable(done, getParams('done'));
</script>
</html>